<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="CREATE" id="0">
  <actions>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">{
    menu_create(48, 110, 500, 300, 32, 40, 104, 6)
    menumode = true;
    virnum=0
    
    if (room != ModOptions){
        menu_setdimmed();
    }
    
    menu_background(512, 24, 8, 12, 4);
    bgtabs = true;
    
    //we dont want to freeze the server with game maker message boxes
    if room == ModOptions{
        menu_addlink("New Config", '
            config_new()
        ');
    }
    
    if room == ModOptions{
        menu_addedit_text("Load Config", "global.currentConfig", '
            config_load(argument0)
        ')
    }
    
    if room != ModOptions and global.isHost==1{
        menu_addedit_text("Load Config", "global.currentConfig", '
            config_load(argument0)
        ')
    }
    
    //menu_addlink("Load Config", '
    //');
    //menu_addlink("Edit Config", '
    //');
    
    //TABS
    menu_addtablink("Host", '
        instance_destroy()
        instance_create(x,y,ModHostOptionsController)
    ');
    menu_addtablink("GFX Basic", '
        instance_destroy()
        instance_create(x,y,ModOptGFXBasic)
    ');
    menu_addtablink("GFX Adv", '
        instance_destroy()
        instance_create(x,y,ModOptGFXAdv)
    ');
    menu_addtablink("Misc.", '
        instance_destroy()
        instance_create(x,y,ModOptMisc)
    ');
    menu_addtablink("Controls", '
        instance_destroy()
        instance_create(x,y,ModControlsOptionsController)
    ');
    menu_addtablink("Configs", '
        instance_destroy()
        instance_create(x,y,ModConfigsController)
    ');
    
    menu_addback("[0] Back", '
        instance_destroy()
        if(room == ModOptions){
            room_goto_fix(Menu)
        }else{
            instance_create(0,0,InGameMenuController)
        }
    ');
}
</argument>
      </arguments>
    </action>
  </actions>
</event>
